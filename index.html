<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DataModeler</title>
    <link rel="stylesheet" type="text/css" href="styles/reset.css">
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="stylesheet" href="libs/font-awesome-4.6.3/css/font-awesome.min.css">
    <script src="libs/saveSvgAsPng-gh-pages/saveSvgAsPng.js"></script>
    <script src="libs/jszip/dist/jszip.min.js"></script>
    <script type="application/javascript" src="dist/dbsdm.min.js"></script>
</head>
<body>

    <script>
        /**
         * Initialize diagram, has to be run first
         */
        DBSDM.Diagram.init({
            allowEdit: true,
            allowFile: true,
            allowCorrectMode: true,
            confirmLeave: true,
            showTutorial: true
        });

        /**
         * Create empty canvas
         */
        var canvas1 = new DBSDM.Canvas();
        canvas1.create();

        /**
         * Create canvas and import saved diagram
         */
        var json = JSON.parse('{"entities":[{"name":"City","parent":null,"attr":[{"name":"name","primary":false,"unique":false,"nullable":false},{"name":"pincode","primary":false,"unique":false,"nullable":false}],"transform":{"x":465.55555555555554,"y":417.77777777777777,"width":90,"height":70}},{"name":"Country","parent":null,"attr":[{"name":"name","primary":false,"unique":false,"nullable":false},{"name":"numberofstates","primary":false,"unique":false,"nullable":false}],"transform":{"x":593.8888888888889,"y":375,"width":180.55555555555554,"height":109.44444444444446}},{"name":"Department","parent":null,"attr":[{"name":"name","primary":false,"unique":false,"nullable":false},{"name":"id","primary":true,"unique":false,"nullable":false},{"name":"address","primary":false,"unique":false,"nullable":false},{"name":"contact","primary":false,"unique":false,"nullable":false},{"name":"email","primary":false,"unique":false,"nullable":false}],"transform":{"x":741.6666666666666,"y":159.44444444444443,"width":233.8888888888889,"height":193.88888888888889}},{"name":"Employee","parent":null,"attr":[{"name":"employee_id","primary":true,"unique":false,"nullable":false},{"name":"employee_name","primary":false,"unique":false,"nullable":false},{"name":"dept_id","primary":false,"unique":false,"nullable":false},{"name":"age","primary":false,"unique":false,"nullable":false},{"name":"sex","primary":false,"unique":false,"nullable":false},{"name":"contact","primary":false,"unique":false,"nullable":false}],"transform":{"x":257.8888888888889,"y":168,"width":193,"height":136}}],"relations":[[{"entity":"Employee","identifying":false,"optional":true,"cardinality":0,"xor":null,"name":null,"transform":{"anchor":{"x":450.8888888888889,"y":236,"edge":1},"points":[{"x":596.2777777777778,"y":246.1944444444444}],"manual":false}},{"entity":"Department","identifying":true,"optional":false,"cardinality":0,"xor":null,"name":null,"transform":{"anchor":{"x":741.6666666666666,"y":256.3888888888888,"edge":3},"points":[{"x":596.2777777777778,"y":246.1944444444444}],"manual":false}}]],"notes":[]}');
        var canvas2 = new DBSDM.Canvas();
        canvas2.create();
        canvas2.import(json);

        var promptDownload = false;
        var prettify = false;
        console.log(canvas2.export(promptDownload, prettify));
    </script>
</body>
</html>